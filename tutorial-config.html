<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>ORC Tutorial: Configuration Guide</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<script src="scripts/highlight.min.js"></script>

	<link type="text/css" rel="stylesheet" href="styles/site.granax.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" style="background-image:url(img/orc.png)"  href="index.html">ORC</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-orc_constants.html">orc/constants</a></li><li><a href="module-orc_utils.html">orc/utils</a></li><li><a href="module-orc_version.html">orc/version</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="Audit.html">Audit</a></li><li><a href="Bridge.html">Bridge</a></li><li><a href="Database.html">Database</a></li><li><a href="Database.AuditReport.html">Database.AuditReport</a></li><li><a href="Database.NetworkBlob.html">Database.NetworkBlob</a></li><li><a href="Database.ObjectPointer.html">Database.ObjectPointer</a></li><li><a href="Database.PeerProfile.html">Database.PeerProfile</a></li><li><a href="Database.ShardContract.html">Database.ShardContract</a></li><li><a href="KadStorageAdapter.html">KadStorageAdapter</a></li><li><a href="Node.html">Node</a></li><li><a href="Proof.html">Proof</a></li><li><a href="Rules.html">Rules</a></li><li><a href="Server.html">Server</a></li><li><a href="Shards.html">Shards</a></li><li><a href="Transport.html">Transport</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="events.list.html" class="dropdown-toggle" data-toggle="dropdown">Events<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="Server.html#event:error">Server#event:error</a></li><li><a href="Server.html#event:shardDownloaded">Server#event:shardDownloaded</a></li><li><a href="Server.html#event:shardUploaded">Server#event:shardUploaded</a></li><li><a href="Transport.html#event:download">Transport#event:download</a></li><li><a href="Transport.html#event:upload">Transport#event:upload</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-api.html">Using the REST API</a></li><li><a href="tutorial-config.html">Configuration Guide</a></li><li><a href="tutorial-install.html">Manual Installation</a></li>
				</ul>
			</li>
			
		</ul>
		<div class="col-sm-3 col-md-4">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                    <div class="input-group-btn">
                        <button class="btn btn-primary" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-12">
	
		<div id="main">
			<section class="tutorial-section">

<header>
    

    <h2>Configuration Guide</h2>
</header>

<article>
    <p>This guide will show you how to get started with running <code>orcd</code>! An ORC 
node requires a configuration file to get up and running. The path to this 
file is given to <code>orcd</code> when starting a node.</p>
<pre class="prettyprint source"><code>orcd --config path/to/orc.config</code></pre><p>If a configuration file is not supplied, a minimal default configuration is 
automatically created and used, which will generate a private extended key, 
storage for shards, contracts, and network information. All of this data will 
be created and stored in <code>$HOME/.config/orcd</code>, yielding a directory structure 
like this:</p>
<pre class="prettyprint source"><code>+- ~/.config/orcd
  + - x_private_key    (Root/Parent HD identity key)
  + - config           (INI configuration file)
  + - orcd.log         (Daemon log file, rotated periodically)
  + - /provider_vault  (Directory containing encrypted shards named by hash)
  + - /node_data       (MongoDB data directory)
  + - /node_hs         (Tor + hidden service data directory)</code></pre><p>The locations of all of these files is defined in your configuration file. 
Below is an complete outline of each valid configuration property name, it's 
behavior, and default value(s). Valid configuration files may be in either INI 
or JSON format.</p>
<h4>DaemonPidFilePath</h4><h5>Default: <code>$HOME/.config/orcd/orcd.pid</code></h5><p>The location to write the PID file for the daemon.</p>
<h4>PrivateExtendedKeyPath</h4><h5>Default: <code>$HOME/.config/orcd/x_private_key</code></h5><p>Path to private extended key file to use for master identity.</p>
<h4>ChildDerivationIndex</h4><h5>Default: <code>0</code></h5><p>The index for deriving this child node's identity. This allows you to run 
multiple nodes with the same private extended key. If your private extended 
key was converted from an old non-hierarchically-deterministic private key,
you must set the value to <code>-1</code>.</p>
<h4>MongoDBDataDirectory</h4><h5>Default: <code>$HOME/.config/orcd/node_data</code></h5><p>Sets the directory to store MongoDB database files.</p>
<h4>MongoDBPort</h4><h5>Default: <code>37017</code></h5><p>Sets the TCP port to binding the <code>mongod</code> process.</p>
<h4>ShardStorageDataDirectory</h4><h5>Default: <code>$HOME/.config/orcd/provider_vault</code></h5><p>Set the base directory (parent) for where shards will be placed. This directory 
stores other nodes' data shards, so be sure you set this to where you intend to 
provide capacity.</p>
<h4>ShardReaperInterval</h4><h5>Default: <code>24HR</code></h5><p>How often we should scan contract database to reap expired shards it is 
storing. Accepts human-readable strings like <code>3DAYS</code> or <code>72HOURS</code></p>
<h4>ShardStorageMaxAllocation</h4><h5>Default: <code>0GB</code></h5><p>Define the maximum size you wish to allocate for farming shards. This can be 
increased later, but decreasing it will not delete existing data.</p>
<h4>ShardReaperInvalidationBlocks</h4><h5>Default: <code>240</code></h5><p>The number of blocks added to chain without payment since a contract was stored
to determine whether or not the data should be reaped.</p>
<h4>ShardCapacityUpdateInterval</h4><h5>Default: <code>30M</code></h5><p>The frequency interval we update our flags to reflect our available capacity.</p>
<h4>NodeOnionServiceDataDirectory</h4><h5>Default: <code>$HOME/.config/orcd/node_hs</code></h5><p>The path to the directory to instruct Tor to use for storing hidden service 
keys and other information.</p>
<h4>NodeVirtualPort</h4><h5>Default: <code>80</code></h5><p>Sets the virtual port number for your node's RPC onion service.</p>
<h4>NodeListenPort</h4><h5>Default: <code>9088</code></h5><p>Sets the local port to bind the node's RPC service.</p>
<h4>BandwidthAccountingEnabled</h4><h5>Default: <code>0</code></h5><p>Enables bandwidth metering and hibernation mode. When the property 
BandwidthAccountingEnabled is <code>1</code>, we will enter low-bandwidth mode if the we
exceed <code>BandwidthAccountingMax</code> within the period defined by 
<code>BandwidthAccountingReset</code> until the interval is finished.</p>
<h4>BandwidthAccountingMax</h4><h5>Default: <code>5GB</code></h5><p>Sets the maximum number of bandwidth to use per accounting interval for data 
transfer. Low-bandwidth RPC messages will still be allowed.</p>
<h4>BandwidthAccountingReset</h4><h5>Default: <code>24HR</code></h5><p>Resets the bandwidth accounting on an interval defined by this property.</p>
<h4>VerboseLoggingEnabled</h4><h5>Default: <code>1</code></h5><p>More detailed logging of messages sent and received. Useful for debugging.</p>
<h4>LogFilePath</h4><h5>Default: <code>$HEAD/.config/orcd.log</code></h5><p>Path to write the daemon's log file. Log file will rotate either every 24 hours 
or when it exceeds 10MB, whichever happens first.</p>
<h4>LogFileMaxBackCopies</h4><h5>Default: <code>3</code></h5><p>Maximum number of rotated log files to keep.</p>
<h4>NetworkBootstrapNodes[]</h4><h5>Default: <code>http://z2ybz7kjxjtfiwcervfh376swy4je3ye4yne2atoi727634qzjonk7id.onion:80</code></h5><p>Add a map of network bootstrap nodes to this section to use for discovering 
other peers. Default configuration should come with a list of known and 
trusted contacts.</p>
<h4>BridgeHostname</h4><h5>Default: <code>127.0.0.1</code></h5><p>Sets the hostname or IP address to which the bridge service should be bound. It 
is important to set this value to a loopback address if authentication is 
disabled to prevent others from accessing your objects.</p>
<h4>BridgePort</h4><h5>Default: <code>9089</code></h5><p>Set the TCP port to which the bridge service's HTTP API should be bound.</p>
<h4>BridgeAuthenticationEnabled</h4><h5>Default: <code>1</code></h5><p>Force requests to the bridge service API to supply credentials using HTTP Basic 
Authentication.</p>
<h4>BridgeAuthenticationUser</h4><h5>Default: <code>orc</code></h5><p>User name to require using HTTP Basic Authentication.</p>
<h4>BridgeAuthenticationPassword</h4><h5>Default: <code>&lt;random&gt;</code></h5><p>Password to require using HTTP Basic Authentication.</p>
<h4>BridgeTempStagingBaseDir</h4><h5>Default: <code>$HOME/.config/orcd/tmp</code></h5><p>Sets the path on the filesystem to a directory for storing temporary data 
for queued uploads.</p>
<h4>ProviderCapacityPoolTimeout</h4><h5>Default: <code>24HR</code></h5><p>If we haven't received a relayed capacity announcement from a peer within 
this defined timeframe, remove them from the provider pool until we receive 
an announcement again. Prevents attempting to use providers that are unlikely 
to be available.</p>
<h4>ProviderFailureBlacklistTimeout</h4><h5>Default: <code>6HR</code></h5><p>If we have tried to store a shard with a peer and a failure occurred on the 
provider's end, temporarily remove them from the provider pool for this defined 
amount of time.</p>
<h4>TorPassthroughLoggingEnabled</h4><h5>Default: <code>0</code></h5><p>Redirects the Tor process log output through ORC's logger for the purpose of 
debugging.</p>
<h4>TorLoggingVerbosity</h4><h5>Default: <code>notice</code></h5><p>Defines the verbosity level of the Tor process logging. Valid options are: <code>debug</code>, <code>info</code>, <code>notice</code>.</p>
<h4>[TrustedIdenties]</h4><h5>Default: <code>*=PING,FIND_NODE,FIND_VALUE,STORE,RETRIEVE</code></h5><p>Defines a map of identities to allowed RPC calls. The default policy allows all
nodes to perform RPC calls necessary for discovering peers, storing metadata, and 
downloading public objects.</p>
<p>To establish a full trust policy with another known node, exchange your identity 
keys and add a wildcard policy:</p>
<pre class="prettyprint source"><code>b605647afc146760fc15ef7cd59720f1ee7d82e1=*</code></pre><p>You can also provide a comma-delimited list of methods to allow.</p>
</article>

</section>

		</div>
	</div>

	<div class="clearfix"></div>

	

</div>
</div>

<div class="modal fade" id="searchResults">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search results</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<footer>


	<span class="copyright">
	Copyright 2017 Counterpoint Hackerspace
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	$('pre').each(function(i, block) {
		hljs.highlightBlock(block);
	});

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			var id = $( heading ).attr( "id" );
			return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


<script type="text/javascript">
	$(document).ready(function() {
		SearcherDisplay.init();
	});
</script>

</body>
</html>